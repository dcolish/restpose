TODO
====

Make logging do writes asynchronously.  (Currently, a log call acquires the
logger mutex, then does the write, blocking all other threads.  Instead, log
messages should be added to a queue, and a logger thread should write them to
disk, syslog, or whatever the appropriate target is.)

Collection names should only be allowed to contain [a-z0-9_-].  Validation
should be performed in handlers, but also lower level (so that pipes, etc,
can't become security risks).

Before an initial release
-------------------------

 - Documentation.

 - Update libs/README

 - Fix inconsistent namespacing used in code (RestPose is used in some places,
   but not others, for no particular reason).

 - Document -> JSON formatting should have two flavours: a "raw" mode, which
   doesn't unpack the document data, and a higher level mode which unpacks the
   document data, and also splits terms into prefix and value stored.

 - Rename "prefix" to something less implementation-specific?  "group"?  Define
   group shortnames somewhere special?
 - Complain if undefined groups are used?

 - Position data for multiple text fields should not overlap - and there should
   be a setting to define the spacing.

 - If the client doesn't send a Host header, we need to synthesise one so that
   Location headers in responses are valid.
